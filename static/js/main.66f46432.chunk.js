(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={list:"contactList_list__2--5v",listItem:"contactList_listItem__kBEh6",deleteBtn:"contactList_deleteBtn__2ycmg"}},17:function(t,e,n){t.exports={enter:"fade_enter__18wTb",enterActive:"fade_enterActive__1AfBP",exit:"fade_exit__ojKEV",exitActive:"fade_exitActive__y4byW"}},18:function(t,e,n){t.exports={enter:"fade_enter__2MFU5",enterActive:"fade_enterActive__1edXD",exit:"fade_exit__245E2",exitActive:"fade_exitActive__1eunl"}},25:function(t,e,n){t.exports={section:"section_section__2_nHZ",title:"section_title__36rBM"}},26:function(t,e,n){t.exports={form:"contactForm_form__1z8fW",addButton:"contactForm_addButton__2QFr-"}},37:function(t,e,n){t.exports={wrapper:"wrapper_wrapper__2MtDc"}},38:function(t,e,n){t.exports={appear:"fade_appear__2cLJL",appearActive:"fade_appearActive__2nKIH",appearExit:"fade_appearExit__17ifG",appearExitActive:"fade_appearExitActive__226vS"}},39:function(t,e,n){t.exports={errorNotification:"ErrorNotification_errorNotification__TE2_h"}},41:function(t,e,n){t.exports={filter:"filter_filter__jwpkD"}},43:function(t,e,n){t.exports={spinner:"Spinner_spinner__3jWJ5"}},44:function(t,e,n){t.exports={enter:"fade_enter__7aOPM",enterActive:"fade_enterActive__26j8X",exit:"fade_exit__ASpK7",exitActive:"fade_exitActive__3sShN"}},47:function(t,e,n){t.exports=n(94)},57:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),i=n(6),u=(n(57),n(14)),s=n(15),l=n(20),f=n(19),m=n(95),d=n(37),b=n.n(d),p=function(t){var e=t.children;return c.a.createElement("div",{className:b.a.wrapper},e)},_=n(25),h=n.n(_),v=n(38),C=n.n(v),E=function(t){var e=t.title,n=t.children;return c.a.createElement("section",{className:h.a.section},c.a.createElement(m.a,{in:!0,appear:!0,classNames:C.a,timeout:500},c.a.createElement("h2",{className:h.a.title},e)),n)},j=n(39),O=n.n(j),g=function(t){var e=t.name;return c.a.createElement("div",{className:O.a.errorNotification},e,c.a.createElement("br",null)," is already in contacts.")},x=n(13),N=n.n(x),y=n(2),S={addContactRequest:Object(y.b)("contacts/addRequest"),addContactSuccess:Object(y.b)("contacts/addSuccess"),addContactError:Object(y.b)("contacts/addError"),fetchContactsRequest:Object(y.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(y.b)("contacts/fetchSuccess"),fetchContactsError:Object(y.b)("contacts/fetchError"),removeContactsRequest:Object(y.b)("contacts/removeRequest"),removeContactsSuccess:Object(y.b)("contacts/removeSuccess"),removeContactsError:Object(y.b)("contacts/removeError"),changeFilter:Object(y.b)("contacts/change")};N.a.defaults.baseURL="http://localhost:2000";var A,F,R={addContact:function(t,e){return function(n){n(S.addContactRequest()),N.a.post("/contacts",{name:t,number:e}).then((function(t){n(S.addContactSuccess(t.data))})).catch((function(t){return n(S.addContactError(t))}))}},fetchContact:function(){return function(t){t(S.fetchContactsRequest()),N.a.get("/contacts").then((function(e){t(S.fetchContactsSuccess(e.data))})).catch((function(e){return t(S.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(S.removeContactsRequest()),N.a.delete("/contacts/".concat(t)).then((function(){return e(S.removeContactsSuccess(t))})).catch((function(t){return e(S.removeContactsError(t))}))}}},w=n(26),k=n.n(w),B=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleNameChange=function(e){t.setState({name:e.target.value})},t.handleNumberChange=function(e){t.setState({number:e.target.value})},t.handleSubmit=function(e){var n=t.state,a=n.name,c=n.number;e.preventDefault(),t.props.handleAddContact(a,c),t.setState({name:"",number:""})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{onSubmit:this.handleSubmit,className:k.a.form},c.a.createElement("label",null,"Name",c.a.createElement("input",{type:"text",value:e,onChange:this.handleNameChange})),c.a.createElement("label",null,"Number",c.a.createElement("input",{type:"number",value:n,onChange:this.handleNumberChange})),c.a.createElement("button",{type:"submit",className:k.a.addButton},"Add contact"))}}]),n}(a.Component),q={handleAddContact:R.addContact},L=Object(i.b)(null,q)(B),D=n(96),I=n(12),M=n.n(I),J=n(17),K=n.n(J),P=n(40),T=n(7),V=function(t){return t.contacts.items},W=function(t){return t.contacts.filter},H={getLoading:function(t){return t.contacts.loading},getFilter:W,getVisibleContact:Object(T.a)([V,W],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContactById:Object(T.a)([function(t,e){return e},V],(function(t,e){return e.find((function(e){return e.id===t}))}))},U=Object(i.b)((function(t,e){var n=H.getContactById(t,e.id);return Object(P.a)({},n)}),(function(t,e){return{onRemoveContact:function(){return t(R.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,a=t.onRemoveContact;return c.a.createElement("li",{className:M.a.listItem},c.a.createElement("div",null,e,": ",n),c.a.createElement("button",{className:M.a.deleteBtn,type:"button",onClick:a},"Delete"))})),X=Object(i.b)((function(t){return{contacts:H.getVisibleContact(t)}}))((function(t){var e=t.contacts;return c.a.createElement(D.a,{component:"ul",className:M.a.list},e.map((function(t){var e=t.id;return c.a.createElement(m.a,{key:e,timeout:250,classNames:K.a},c.a.createElement(U,{key:e,id:e}))})))})),z=n(41),G=n.n(z),Q=n(18),Z=n.n(Q),Y={onChangeFilter:S.changeFilter},$=Object(i.b)((function(t){return{value:H.getFilter(t)}}),Y)((function(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement(m.a,{in:!0,timeout:250,classNames:Z.a},c.a.createElement("div",{className:G.a.filter},c.a.createElement("p",null,"Find contacts by name"),c.a.createElement("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}})))})),tt=n(42),et=n.n(tt),nt=n(43),at=n.n(nt),ct=function(){return c.a.createElement("div",{className:at.a.spinner},c.a.createElement(et.a,{type:"ThreeDots",color:"#3F51B5",height:80,width:80}))},rt=n(44),ot=n.n(rt),it=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement(p,null,c.a.createElement(m.a,{timeout:2500,classNames:ot.a,unmountOnExit:!0},c.a.createElement(g,null)),c.a.createElement(E,{title:"Phonebook"},c.a.createElement(L,null)),c.a.createElement(E,{title:"Contacts"},c.a.createElement(m.a,{timeout:250,classNames:Z.a},c.a.createElement($,null)),this.props.isLoadingContacts&&c.a.createElement(ct,null)),c.a.createElement(m.a,{timeout:250,classNames:K.a},c.a.createElement(X,null)))}}]),n}(a.Component),ut={onFetchContacts:R.fetchContact},st=Object(i.b)((function(t){return{isLoadingContacts:H.getLoading(t)}}),ut)(it),lt=n(3),ft=n(45),mt=n(5),dt=Object(y.c)([],(A={},Object(lt.a)(A,S.fetchContactsSuccess,(function(t,e){return e.payload})),Object(lt.a)(A,S.addContactSuccess,(function(t,e){return[].concat(Object(ft.a)(t),[e.payload])})),Object(lt.a)(A,S.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),A)),bt=Object(y.c)("",Object(lt.a)({},S.changeFilter,(function(t,e){return e.payload}))),pt=Object(y.c)(!1,(F={},Object(lt.a)(F,S.addContactRequest,(function(){return!0})),Object(lt.a)(F,S.addContactSuccess,(function(){return!1})),Object(lt.a)(F,S.addContactError,(function(){return!1})),Object(lt.a)(F,S.fetchContactsRequest,(function(){return!0})),Object(lt.a)(F,S.fetchContactsSuccess,(function(){return!1})),Object(lt.a)(F,S.fetchContactsError,(function(){return!1})),Object(lt.a)(F,S.removeContactsRequest,(function(){return!0})),Object(lt.a)(F,S.removeContactsSuccess,(function(){return!1})),Object(lt.a)(F,S.removeContactsError,(function(){return!1})),F)),_t=Object(mt.c)({items:dt,filter:bt,loading:pt}),ht=Object(y.a)({reducer:{contacts:_t}});o.a.render(c.a.createElement(i.a,{store:ht},c.a.createElement(st,null)),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.66f46432.chunk.js.map